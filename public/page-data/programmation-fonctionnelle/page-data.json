{"componentChunkName":"component---src-templates-blog-post-js","path":"/programmation-fonctionnelle/","result":{"data":{"site":{"siteMetadata":{"title":"GOLB | blog web et tech"}},"markdownRemark":{"id":"93b2334e-d0cf-5423-85bb-cd14be0b249e","excerpt":"Vous avez déjà utilisé la méthode  ? Ou bien  ? Ou peut-être que vous utilisez React et que vous suivez les bonnes pratiques en utilisant toujours  pour…","html":"<p>Vous avez déjà utilisé la méthode <code class=\"language-text\">map()</code> ? Ou bien <code class=\"language-text\">filter()</code> ? Ou peut-être que vous utilisez React et que vous suivez les bonnes pratiques en utilisant toujours <code class=\"language-text\">setState()</code> pour modifier vos variables d’état? Et bien je vous annonce que vous avez fait un premier pas dans le monde de la programmation fonctionnelle.</p>\n<p>La programmation fonctionnelle est un <strong>paradigme de programmation</strong>. Des <a href=\"https://fr.wikipedia.org/wiki/Paradigme_(programmation)#Liste_de_paradigmes\">paradigmes de programmation</a>, il en existe pleins. Mais en JavaScript, on en utilise principalement trois.</p>\n<ol>\n<li>La programmation procédurale</li>\n<li>La programmation orientée objet</li>\n<li>La programmation fonctionnelle</li>\n</ol>\n<p>La <strong>programmation procédurale</strong>, c’est la programmation “normale” / “de base”. C’est celle qu’on apprend à l’école lors de ses premiers cours de prog. C’est celle où on va programmer une suite d’opérations qui vont s’exécuter l’une après l’autre. C’est celle dans laquelle on va utiliser des boucles <code class=\"language-text\">for()</code> ou <code class=\"language-text\">while()</code> et des conditions if-else.</p>\n<p>La <strong>programmation orientée objet</strong>, vous l’avez sûrement apprise lors de votre 2e ou 3e semestre si vous avez fait des études en IT ou en dev. Je ne vais pas l’expliquer ici, car ce n’est pas le but de l’article, et car je pense que la majorité des devs connaissent les principes de ce paradigme. En général, c’est une manière de programmer (car un paradigme, c’est un peu ça en fait) qu’on discerne assez facilement.</p>\n<p>La <strong>programmation fonctionnelle</strong>, qu’est-ce que c’est que donc? C’est un paradigme de plus en plus populaire, qui a pour but, entre autres, de rendre le code plus <strong>concis</strong>, <strong>prévisible</strong>, et plus <strong>facile à tester</strong>. J’ajouterais également qu’il permet d’améliorer la réutilisabilité et la modularité du code. Pourquoi est-ce que je mets ces critères à part? Car les trois premiers proviennent de l’article <a href=\"https://medium.com/javascript-scene/master-the-javascript-interview-what-is-functional-programming-7f218c68b3a0\">Master the JavaScript Interview: What is Functional Programming?</a> de <a href=\"https://medium.com/@_ericelliott\">Eric Elliott</a>, auteur de plusieurs articles sur la programmation fonctionnelle, qui m’a bien aidé à comprendre ce paradigme.</p>\n<p>Pour atteindre ces objectifs, il y a quelques principes fondamentaux à suivre.</p>\n<ul>\n<li>Utiliser des fonctions pures (<strong>pure function</strong>, en <a href=\"https://www.linternaute.fr/dictionnaire/fr/definition/vo/\">VO</a>)</li>\n<li>Utiliser des données immuables (<strong>immutable data</strong>)</li>\n<li>Éviter les effets de bord (<strong>side effects</strong>)</li>\n<li>Programmer de manière déclarative (<strong>declarative</strong> programming)</li>\n</ul>\n<p>Alors oui, pour expliquer le principe de programmation fonctionnelle, on est obligé d’expliquer 47 autres principes. Cependant, même si vous ne vous lancez pas dans la programmation fonctionnelle, ces principes sont présents dans beaucoup d’autres aspects de JavaScript. Donc, dans tous les cas, c’est intéressant de les connaitre.</p>\n<h3>Pure function</h3>\n<p>Une fonction pure est une fonction qui, </p>\n<ol>\n<li>lorsqu’on lui donne les mêmes valeurs d’entrée, nous retournera toujours la même valeur de sortie.</li>\n<li>N’a pas de side effect</li>\n</ol>\n<h3>Side effect</h3>\n<p>Un side effect se produit lorsqu’une fonction modifie un état ne faisant pas partie du scope local de cette fonction.</p>\n<p>Exemple:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">let</span> result\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">incrementBy</span><span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">a<span class=\"token punctuation\">,</span> b</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n\tresult <span class=\"token operator\">=</span> a <span class=\"token operator\">+</span> b <span class=\"token comment\">// side effect! On modifie c, qui est une variable externe à la fonction actuelle</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// version sans side effect</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">functionalIncrementBy</span><span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">a<span class=\"token punctuation\">,</span> b</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">let</span> res <span class=\"token operator\">=</span> a <span class=\"token operator\">+</span> b\n    <span class=\"token keyword\">return</span> res\n    <span class=\"token comment\">// Ou bien juste: return a + b</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>À noter qu’un <code class=\"language-text\">console.log()</code> ou un rendu graphique sont également considérés comme des side effect, puisque ça agit sur des objets externes à la fonction. Cependant, sans rendu graphique, beaucoup d’applications JavaScript ne serviraient plus à grand-chose. Donc, la plupart du temps, on va surtout appliquer ce principe aux variables. Cependant, on remarquera quand même que ce n’est pas pour rien que React encourage à externaliser la gestion du rendu 😉</p>\n<h3>Immutable data</h3>\n<p>Ce principe définit simplement que lorsqu’une variable est initialisée, celle-ci ne doit jamais être modifiée. Ce principe est en réalité difficile à suivre au pied de la lettre en JavaScript, car le langage n’a pas été prévu pour l’immuabilité. On pourrait croire que déclarer une variable avec <code class=\"language-text\">const</code> la rend immuable, pourtant les propriétés d’un objet déclaré avec <code class=\"language-text\">const</code> peuvent malgré tout être modifiées.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> book <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>title<span class=\"token operator\">:</span> <span class=\"token string\">\"Batman\"</span><span class=\"token punctuation\">,</span> pageCount<span class=\"token operator\">:</span> <span class=\"token number\">30</span><span class=\"token punctuation\">}</span>\n\nbook <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>title<span class=\"token operator\">:</span> <span class=\"token string\">\"Superman\"</span><span class=\"token punctuation\">,</span> pageCount<span class=\"token operator\">:</span> <span class=\"token number\">45</span><span class=\"token punctuation\">}</span> <span class=\"token comment\">// Erreur! normal, book est une constante</span>\n\nbook<span class=\"token punctuation\">.</span>price <span class=\"token operator\">=</span> <span class=\"token number\">19.90</span> <span class=\"token comment\">// ça marche! book n'est donc pas immuable</span></code></pre></div>\n<p>On voit donc que JavaScript n’a pas été créé pour la programmation fonctionnelle. Il existe cependant des librairies rendant JavaScript immuable.</p>\n<h3>Declarative programming</h3>\n<p>Pour expliquer le principe de programmation déclarative, il est plus simple d’expliquer son principal concurrent qu’est la <strong>programmation impérative</strong>. À noter que la POO et la programmation procédurale sont des paradigmes impératifs, ce qui les distinguent bien de la programmation fonctionnelle.</p>\n<p>La programmation impérative est une manière très étape par étape de fonctionner. On va, par exemple, utiliser des boucles dans lesquels on pourra facilement voir ce qu’il se passe à chaque itération.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">incrementArray</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">array</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> incremented <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n\t<span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> array<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        incremented<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>array<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> incremented\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>La programmation déclarative est une manière plus descriptive de programmer, où l’on va plus se focaliser sur le “quoi” que sur le “comment”. Pour remédier à ces boucles assez lourdes syntaxiquement, la programmation fonctionnelle va plutôt utiliser des fonctions comme <code class=\"language-text\">map()</code>, <code class=\"language-text\">filter()</code> ou <code class=\"language-text\">reduce()</code>. </p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">incrementArray</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">array</span> <span class=\"token operator\">=></span> array<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">n</span> <span class=\"token operator\">=></span> n <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>On voit clairement que ça rend le code plus concis!</p>\n<h2>Conclusion</h2>\n<p>Alors, on oublie tout et on passe au paradigme fonctionnel? C’est un peu tôt pour ce faire une vraie idée sur ce paradigme. Le sujet est extrêmement vaste. Ce que je peux dire sans trop me mouiller, c’est que JavaScript n’est, de base, pas super adapté pour faire de la vraie de vraie programmation fonctionnelle. Cependant, certains principes sont très bons à adopter dans de nombreux cas. Je pense notamment aux side effects et aux données immuables.</p>\n<p>D’ailleurs, React est fortement basé sur ces principes. À ce propos, je vous recommande très fortement de lire l’article <a href=\"https://medium.com/javascript-scene/master-the-javascript-interview-what-is-functional-programming-7f218c68b3a0\">The Missing Introduction to React</a> de mon nouvel ami Eric Eliott, et surtout de regarder la vidéo en début d’article. Ça a été pour moi un début de révélation.</p>\n<p>Je vous conseille également l’article <a href=\"https://buzut.net/programmation-fonctionnelle-en-javascript/\">Programmation fonctionnelle en JavaScript</a> de Quentin Busuttil, qui explique (en français!) plus en profondeur ce paradigme, et qui aborde surtout plus de concepts de la programmation fonctionnelle.</p>","frontmatter":{"title":"Vous faites sûrement de la programmation fonctionnelle sans le savoir","date":"01 juin 2021","description":"Lors d'un entretien, on m'a demandé de parler de la programmation fonctionnelle. C'est donc, un peu trop tard, que je m'y intéresse, mais je découvre des concepts fabuleux.","tags":["Javascript"],"thumbnail":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAABAACA//EABYBAQEBAAAAAAAAAAAAAAAAAAIAAf/aAAwDAQACEAMQAAABUduSj3Wt/8QAGRABAQADAQAAAAAAAAAAAAAAAQACAyEx/9oACAEBAAEFAtotqOuM2Uef/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGRAAAgMBAAAAAAAAAAAAAAAAEkEAAQIg/9oACAEBAAY/AhpuaLn/xAAaEAACAwEBAAAAAAAAAAAAAAAAAREhMUFx/9oACAEBAAE/IVuCSxUSfoiaZy+lJhKjA//aAAwDAQACAAMAAAAQOC//xAAXEQEBAQEAAAAAAAAAAAAAAAABABEh/9oACAEDAQE/EHHsI3//xAAWEQADAAAAAAAAAAAAAAAAAAAQITH/2gAIAQIBAT8QcH//xAAbEAEBAAIDAQAAAAAAAAAAAAABEQAhMUFRcf/aAAgBAQABPxAKbQB2A8B7jXjAJwY9YDofMNHsIW9OAMiKaPc2R25//9k=","aspectRatio":1.7857142857142858,"src":"/static/7adc0d99e6bf5788460a2388b5be870d/64b17/thumbnail.jpg","srcSet":"/static/7adc0d99e6bf5788460a2388b5be870d/e94f2/thumbnail.jpg 100w,\n/static/7adc0d99e6bf5788460a2388b5be870d/4fa6c/thumbnail.jpg 200w,\n/static/7adc0d99e6bf5788460a2388b5be870d/64b17/thumbnail.jpg 400w,\n/static/7adc0d99e6bf5788460a2388b5be870d/39f27/thumbnail.jpg 600w,\n/static/7adc0d99e6bf5788460a2388b5be870d/a1eb1/thumbnail.jpg 800w,\n/static/7adc0d99e6bf5788460a2388b5be870d/a6c62/thumbnail.jpg 1200w","sizes":"(max-width: 400px) 100vw, 400px"}}}}}},"pageContext":{"id":"93b2334e-d0cf-5423-85bb-cd14be0b249e"}},"staticQueryHashes":["3764592887"]}