<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[GOLB | blog web et tech]]></title><description><![CDATA[GOLB, un blog parlant de web, de tech, qui pose pleins de questions et qui tente parfois d'y répondre.]]></description><link>https://golb.ch</link><generator>GatsbyJS</generator><lastBuildDate>Mon, 17 May 2021 22:56:15 GMT</lastBuildDate><item><title><![CDATA[Développer un jeu en réalité virtuelle sur le web]]></title><description><![CDATA[En fin février, j’ai suivi un cours de deux semaines sur le développement en réalité virtuelle (j’adore mes études). Alors évidemment en…]]></description><link>https://golb.ch/developper-avec-aframe/</link><guid isPermaLink="false">https://golb.ch/developper-avec-aframe/</guid><pubDate>Tue, 16 Mar 2021 12:00:00 GMT</pubDate><content:encoded>&lt;p&gt;En fin février, j’ai suivi un cours de deux semaines sur le développement en réalité virtuelle (j’adore mes études). Alors évidemment en 2 semaines on ne devient ni game designer, ni expert en VR, ni pas grand-chose. Cependant, j’ai été bluffé par ce que l’on peut réaliser en si peu de temps grâce au framework &lt;a href=&quot;https://aframe.io/&quot;&gt;A-Frame&lt;/a&gt;. J’ai eu essayé de développer des jeux avec Unity, mais la motivation s’est envolée après les dix premières heures de tuto en voyant les 90 restantes. Il m’est également arrivé de développer des micro-jeux en utilisant JavaScript et les &lt;a href=&quot;https://developer.mozilla.org/fr/docs/Web/HTML/Element/canvas&quot;&gt;canvas&lt;/a&gt; html, mais le résultat était… peu impressionnant. Alors quand on m’a dit que j’avais moins de 2 semaines pour apprendre un framework et développer une expérience VR, j’avais peu d’espoir de faire quelque chose de grandiose et de fonctionnel. Et finalement… ba j’ai pas codé GTA, mais je suis plutôt content du résultat.&lt;/p&gt;
&lt;h2&gt;Le framework A-Frame&lt;/h2&gt;
&lt;p&gt;Je ne vais pas vous faire un tuto A-Frame, mais j’aimerais essayer de vous faire comprendre en (très) gros son fonctionnement. Comment est-ce qu’on peut coder une expérience VR avec du bête HTML et du simple JavaScript?&lt;/p&gt;
&lt;p&gt;En fait, le framework est tellement simple d’utilisation qu’il vous suffit de créer un fichier HTML avec le code suivant, de double cliquer dessus, et pouf vous aurez créé votre première expérience VR. ( Allez-y, j’attends… )&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;html&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;head&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;https://aframe.io/releases/1.1.0/aframe.min.js&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token script&quot;&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;head&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;body&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a-scene&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a-sky&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;#ECECEC&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a-sky&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a-box&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;position&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;-1 0.5 -3&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;rotation&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;0 45 0&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;#4CC3D9&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a-box&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a-cylinder&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;position&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;1 0.75 -3&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;radius&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;0.5&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;1.5&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;#FFC65D&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a-cylinder&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a-plane&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;position&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;0 0 -4&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;rotation&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;-90 0 0&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;4&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;4&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;#7BC8A4&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a-plane&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a-scene&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;body&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;html&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Comme vous pouvez le voir, il suffit d’importer le framework dans votre HTML (bien sûr, on peut aussi le faire avec npm), de placez une &lt;code class=&quot;language-text&quot;&gt;&amp;lt;a-scene&amp;gt;&lt;/code&gt;, et de mettre dans cette scène tous les éléments que vous voulez dans votre expérience VR.&lt;/p&gt;
&lt;h3&gt;Les composants A-Frame&lt;/h3&gt;
&lt;p&gt;Le framework est basé sur un système de composants JavaScript. Mais attention, si vous avez l’habitude des frameworks du style React, Angular ou Vue, sachez que les composants A-Frame ne s’utilisent pas exactement de la même façon. Là où un composant React “Foo” s’utilisera avec une balise &lt;code class=&quot;language-text&quot;&gt;&amp;lt;Foo bar=&amp;quot;value&amp;quot; /&amp;gt;&lt;/code&gt;, un composant A-Frame “Foo” s’utilisera en tant qu’attribut sur une balise représentant une entité &lt;code class=&quot;language-text&quot;&gt;&amp;lt;a-entity foo=&amp;quot;bar: value&amp;quot;&amp;gt;&amp;lt;/a-entity&amp;gt;&lt;/code&gt;. Les balise &lt;code class=&quot;language-text&quot;&gt;&amp;lt;a-entity&amp;gt;&lt;/code&gt; servent à représenter n’importe quel élément de votre scène, que ce soit un mur, un ennemi, le joueur lui-même ou une lumière. Le concept est donc d’utiliser plein d’entités, au départ vides, et de leur attribuer différentes caractéristiques ou comportements en utilisant des composants.&lt;/p&gt;
&lt;p&gt;A-Frame fournit un certain nombre de composants de base, et vous pouvez bien sûr créer vos propres composants. Les composants de base sont, par exemple, &lt;code class=&quot;language-text&quot;&gt;position&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;rotation&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;material&lt;/code&gt; ou &lt;code class=&quot;language-text&quot;&gt;geometry&lt;/code&gt;. Ils servent principalement à placer l’entité dans l’espace, à lui donner une forme, une couleur ou encore une animation. Vous pourrez ensuite coder vos propres composants qui serviront plutôt à apporter des comportements à vos entités. Par exemple, le premier composant que j’ai créé a été un composant &lt;code class=&quot;language-text&quot;&gt;follow&lt;/code&gt;. Grâce à ce composant, je peux dire à n’importe quelle entité de se déplacer en direction d’une autre. Ça peut être utile pour faire un ennemi qui vous fonce dessus, un missile à tête chercheuse ou un animal de compagnie. Dans l’exemple qui suit, la boule rouge va avancer en direction de la bleue. (à condition d’avoir codé le composant “follow” bien entendu)&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a-entity&lt;/span&gt;
    &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;redBall&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
	&lt;span class=&quot;token attr-name&quot;&gt;position&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;0 0 0&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token attr-name&quot;&gt;geometry&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;primitive: sphere; radius: 2&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token attr-name&quot;&gt;material&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;color: red&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token attr-name&quot;&gt;follow&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;target: #blueBall&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a-entity&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a-entity&lt;/span&gt;
    &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;blueBall&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
	&lt;span class=&quot;token attr-name&quot;&gt;position&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;0 0 99&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token attr-name&quot;&gt;geometry&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;primitive: sphere; radius: 2&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token attr-name&quot;&gt;material&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;color: blue&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a-entity&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Je ne vais pas vous montrer ici comment coder un composant, mais si ça vous intéresse, vous pouvez consulter la &lt;a href=&quot;https://aframe.io/docs/1.2.0/core/component.html&quot;&gt;documentation officielle sur les composants&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;Gérer les contrôleurs et la compatibilité VR / PC&lt;/h3&gt;
&lt;p&gt;Faire en sorte que mon jeu soit compatible PC et VR est ce qui m’a donné le plus de fil à retordre. Il serait honnêtement plus simple de faire une version différente par plateforme, mais ce serait plus compliqué à distribuer. Mais avant tout, laissez-moi déjà vous montrer comment gérer les contrôleurs VR, et par la même occasion, comment gérer le joueur.&lt;/p&gt;
&lt;p&gt;Le joueur est en fait simplement composé d’une caméra, et de deux mains en VR. Pour la caméra, on va utiliser le composant A-Frame &lt;code class=&quot;language-text&quot;&gt;camera&lt;/code&gt;, et pour les mains, on va simplement utiliser le composant A-Frame &lt;code class=&quot;language-text&quot;&gt;hand-controls&lt;/code&gt;. Ensuite on va encapsuler ces deux éléments dans une entité avec le composant &lt;code class=&quot;language-text&quot;&gt;movement-controls&lt;/code&gt; qui va gérer les déplacements avec wasd ou un joystick. Trop simple non? &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a-entity&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;player&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;movement-controls&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a-entity&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;camera&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;camera&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;position&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;0 1.7 0&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a-entity&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;gun&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;gltf-model&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;#gun&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;position&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;0.5 -1 -1.2&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a-entity&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a-entity&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;

  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a-entity&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;hands&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a-entity&lt;/span&gt;
      &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;left-hand&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token attr-name&quot;&gt;position&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;-0.3 0 -0.3&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token attr-name&quot;&gt;rotation&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;0 0 90&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token attr-name&quot;&gt;hand-controls&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;hand: left&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a-entity&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a-entity&lt;/span&gt;
      &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;right-hand&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token attr-name&quot;&gt;position&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;0.5 1.0 -1.5&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token attr-name&quot;&gt;rotation&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;0 0 -90&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token attr-name&quot;&gt;hand-controls&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;hand: right&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a-entity&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;gun&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;gltf-model&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;#gun&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;position&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt; 0 -0.3 0&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a-entity&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a-entity&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a-entity&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a-entity&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;(Note: le composant gltf-model permet d’utiliser un asset 3d)&lt;/p&gt;
&lt;p&gt;Comme vous pouvez le constater, mon joueur dispose d’un “gun”. Et même de deux guns… En réalité, le premier, qui est dans la caméra, est le gun pour PC, et le deuxième, qui est dans la main droite, est le gun pour la VR. Il faudra donc détecter la plateforme sur laquelle nous sommes, et supprimer l’un des deux guns en fonction. Une tâche plutôt simple en apparence, mais qui en pratique amène vite des bugs si nos guns possèdent des composants (de tir par exemple).&lt;/p&gt;
&lt;p&gt;Ensuite, il ne reste plus qu’à gérer les inputs du joueur… “plus qu’à” …&lt;/p&gt;
&lt;p&gt;En réalité, A-Frame fournit un composant différent pour gérer chaque modèle de contrôleur (Oculus Quest, Oculus Go, HTC Vive, …). A-Frame fournit également le composant &lt;code class=&quot;language-text&quot;&gt;hand-controls&lt;/code&gt; qui est un composant “universel”. Mais chaque modèle de contrôleur possède des événements différents puisqu’ils ne possèdent pas les mêmes boutons. Et je vous avoue que je n’ai pas eu le temps de me pencher sur ça donc j’ai utilisé l’événement &lt;code class=&quot;language-text&quot;&gt;mousedown&lt;/code&gt; pour tout… et ça marche plus ou moins. J’ai eu certains échos comme quoi sur HTC Vive seul la gâchette gauche marcherait. Mais heu voilà, la deadline est passée et je n’ai plus de matériel VR pour tester donc mon projet restera un peu buggé 😅&lt;/p&gt;
&lt;h3&gt;Les événements&lt;/h3&gt;
&lt;p&gt;Le dernier gros point, que je ne vais que peu aborder, est la gestion des événements. Sans ça notre gameplay risque d’être assez limité. On peut très bien gérer les événements de manière classique avec des &lt;code class=&quot;language-text&quot;&gt;.emit()&lt;/code&gt; et des &lt;code class=&quot;language-text&quot;&gt;.addEventListener()&lt;/code&gt; et c’est d’ailleurs ce que j’ai souvent fait. Sinon on peut utiliser des moyens un peu rigolo comme avec la librairie &lt;a href=&quot;https://github.com/supermedium/superframe/tree/master/components/event-set&quot;&gt;aframe-event-set-component&lt;/a&gt;. Et mon prof a créé un petit composant &lt;code class=&quot;language-text&quot;&gt;listen-to&lt;/code&gt; qui couplé à &lt;code class=&quot;language-text&quot;&gt;event-set&lt;/code&gt; permet presque de gérer tous les événements sans écrire de JavaScript. En pratique ça donne un truc du genre:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a-entity&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;elevator&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;position&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;0 0 0&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token attr-name&quot;&gt;listen-to&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;target: #elevator-btn; event: click; emit: elevator-up&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token attr-name&quot;&gt;event-set&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;_event: elevator-up; position: 0 10 0&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a-entity&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a-entity&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;elevator-btn&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a-entity&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Dans cet exemple, l’ascenseur va se téléporter à 10m de hauteur lorsque vous allez cliquer sur le bouton. Alors en réalité vous mettriez plutôt une animation pour éviter qu’il ne se téléporte, mais c’est  pour vous montrer que les composants peuvent vraiment être “détournés” pour faire toute sorte de choses.&lt;/p&gt;
&lt;h3&gt;Les librairies&lt;/h3&gt;
&lt;p&gt;Si vous fouillez un peu, vous trouverez pas mal de composants bien utiles que de gentils développeurs auront créés et mis à disposition. Voici une petite liste de ceux que j’ai utilisés ou qui pourraient vous être utiles.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/n5ro/aframe-extras&quot;&gt;A-Frame Extras&lt;/a&gt;, des add-ons incontournables comme movement-controls ou nav-mesh&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/n5ro/aframe-physics-system&quot;&gt;aframe-physics-system&lt;/a&gt;, un moteur physique de base&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/fernandojsg/aframe-teleport-controls&quot;&gt;aframe-teleport-controls&lt;/a&gt;, un composant de téléportation comme dans plein de jeux en VR&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/supermedium/aframe-super-shooter-kit&quot;&gt;aframe-super-shooter-kit&lt;/a&gt;, propose des mécanismes basiques de fps&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/supermedium/superframe/tree/master/components/look-at/&quot;&gt;aframe-look-at-component&lt;/a&gt;, pour qu’un élément soit constamment orienté vers le joueur&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/donmccurdy/aframe-inspector-plugin-recast&quot;&gt;aframe-inspector-plugin-recast&lt;/a&gt;, pour créer facilement une nav-mesh (mur invisible)&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/supermedium/superframe/tree/master/components/state&quot;&gt;aframe-state-component&lt;/a&gt;, pour centraliser la gestion d’état (je ne l’ai pas utilisé mais ça a l’air cool)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Sinon, sachez que A-Frame est basé sur &lt;a href=&quot;https://threejs.org/&quot;&gt;three.js&lt;/a&gt; et que vous pouvez utiliser directement les fonctions de three.js si la surcouche A-Frame ne vous suffit pas. Plus d’infos dans &lt;a href=&quot;https://aframe.io/docs/1.2.0/introduction/developing-with-threejs.html&quot;&gt;la doc&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;Mon jeu&lt;/h2&gt;
&lt;p&gt;BON ET MON JEU ALORS?!?!? Je vous bassine avec depuis le début et je ne vous l’ai toujours pas montré. Et bien vous pouvez y jouer sur &lt;a href=&quot;https://duckhuntrevenge.surge.sh&quot;&gt;https://duckhuntrevenge.surge.sh&lt;/a&gt;. Comme je l’ai expliqué, les contrôles risquent d’être un peu spéciaux (pour ne pas dire buggés) suivant votre matériel VR. Ensuite, il est fortement conseillé d’utiliser Chrome ou Edge pour y jouer sur PC. Et pour finir, mon meilleur score est de 157 points, alors hésite pas à lâcher le tien dans les comms! (oui j’aurais pu faire un scoreboard. Mais bon heu… voilà, hein, okay?)&lt;/p&gt;
&lt;p&gt;Pour les curieux, vous pouvez retrouver le code de mon jeu sur &lt;a href=&quot;https://github.com/robiiiiiiiiiiiin/duck-hunt-revenge&quot;&gt;ce repo&lt;/a&gt;.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Comment envoyer un formulaire par mail sans PHP]]></title><description><![CDATA[Les formulaires de contact sont devenus presque indispensables pour les sites de type vitrine. Je doute qu’ils soient toujours utiles et…]]></description><link>https://golb.ch/envoyer-mail-sans-php/</link><guid isPermaLink="false">https://golb.ch/envoyer-mail-sans-php/</guid><pubDate>Wed, 10 Feb 2021 12:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Les formulaires de contact sont devenus presque indispensables pour les sites de type vitrine. Je doute qu’ils soient toujours utiles et utilisés, mais malgré ça, tout le monde en veut un, et j’avoue que c’est quand même plus classe que de juste afficher une adresse mail. Mais c’est parfois le seul élément interactif du site, et donc un élément qui va demander plus de temps de développement. Jusqu’à maintenant j’utilisais PHPMailer, et donc je devais m’embêter à héberger le site sur un serveur avec PHP uniquement pour ce foutu formulaire de contact. Et quand des services comme Netlify ou Surge.sh existent, je me dis que c’est quand même bien dommage de ne pas pouvoir les utiliser à cause d’une seule fonctionnalité.&lt;/p&gt;
&lt;p&gt;Je me suis donc dit qu’il devait bien exister des services appelables en JavaScript, ou bien juste une bête API avec un PHPMailer derrière. Et bien j’ai trouvé deux outils, &lt;a href=&quot;https://www.emailjs.com/&quot;&gt;EmailJS&lt;/a&gt; et &lt;a href=&quot;https://www.netlify.com/blog/2017/09/19/form-handling-with-the-jamstack-and-netlify&quot;&gt;Netlify form handler&lt;/a&gt; qui remplissent très bien mes besoins. J’ai testé les deux et je vais vous présenter en gros leur fonctionnement, leurs avantages et inconvénients.&lt;/p&gt;
&lt;h2&gt;EmailJS&lt;/h2&gt;
&lt;p&gt;EmailJS est un outil développé spécifiquement pour envoyer des mails depuis JavaScript. Il nécessite de s’inscrire sur leur plateforme, de paramétrer l’outil, et ensuite vous pouvez intégrer ça sur n’importe quel site web. L’article &lt;a href=&quot;https://medium.com/javascript-in-plain-english/email-from-your-react-project-w-emailjs-d6af68fa5c17&quot;&gt;Send Email From Your React App with EmailJS&lt;/a&gt; explique très bien comment utiliser l’outil. Mais je vais quand même vous montrer ma configuration au cas où…&lt;/p&gt;
&lt;p&gt;Pour le serveur d’envoi (“Email service” dans leur dashboard) j’ai utilisé une adresse mail hébérgée chez infomaniak&lt;/p&gt;
&lt;div style=&quot;max-width: 25rem; margin: auto&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 597px; &quot;&gt;
      &lt;a class=&quot;gatsby-resp-image-link&quot; href=&quot;/static/76908c83eeb7c7e09bf88ba304adf485/cbbdd/config_email_service.jpg&quot; style=&quot;display: block&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 125.33333333333334%; position: relative; bottom: 0; left: 0; background-image: url(&amp;apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAZABQDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAAAAIBAwQF/8QAFgEBAQEAAAAAAAAAAAAAAAAAAQAC/9oADAMBAAIQAxAAAAHqtfKZzQUrTnG84xvP/8QAGRAAAwADAAAAAAAAAAAAAAAAAAMTAjAz/9oACAEBAAEFAoLIKIK0O54n/8QAFhEBAQEAAAAAAAAAAAAAAAAAEQAQ/9oACAEDAQE/ATW//8QAGBEAAwEBAAAAAAAAAAAAAAAAAAEREBL/2gAIAQIBAT8BrK85P//EABkQAAIDAQAAAAAAAAAAAAAAAAAyAQIQMP/aAAgBAQAGPwJYFF4Wz//EAB4QAAEDBAMAAAAAAAAAAAAAAAABQWEQESAhMXGh/9oACAEBAAE/IUubKKRR6vh5jivZ/9oADAMBAAIAAwAAABAU2YH/xAAXEQADAQAAAAAAAAAAAAAAAAAAAREQ/9oACAEDAQE/EIItf//EABgRAAMBAQAAAAAAAAAAAAAAAAABEWFx/9oACAECAQE/ENjYSrh2f//EACIQAQACAAQHAQAAAAAAAAAAAAEAERBBkdEhMVFhofDxsf/aAAgBAQABPxBSGAtVfLWfTd59N3hVmw44UOUFXY1fuUEl9K1w8r+k9TsT/9k=&amp;apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;config email service&quot; title=&quot;config email service&quot; src=&quot;/static/76908c83eeb7c7e09bf88ba304adf485/cbbdd/config_email_service.jpg&quot; srcset=&quot;/static/76908c83eeb7c7e09bf88ba304adf485/08b3c/config_email_service.jpg 225w,
/static/76908c83eeb7c7e09bf88ba304adf485/12ba2/config_email_service.jpg 450w,
/static/76908c83eeb7c7e09bf88ba304adf485/cbbdd/config_email_service.jpg 597w&quot; sizes=&quot;(max-width: 597px) 100vw, 597px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot; loading=&quot;lazy&quot;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
&lt;/div&gt;
&lt;p&gt;Ensuite j’ai créé le template d’email suivant en intégrant les champs de mon formulaire avec une syntaxe en {{ moustache }}&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 873px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/ff33d100fcf3e6d6a19ff87f77834f09/7e0eb/config_email_template.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 63.55555555555556%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAEF/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAAB3aFB/8QAFhABAQEAAAAAAAAAAAAAAAAAARAR/9oACAEBAAEFAqGX/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQAGPwJf/8QAFxAAAwEAAAAAAAAAAAAAAAAAABEgMf/aAAgBAQABPyFmwGf/2gAMAwEAAgADAAAAEJAP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAHBAAAgICAwAAAAAAAAAAAAAAAREAIRAxQVGx/9oACAEBAAE/EB1I3CaL2DViAZclxovD/9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;config_email_template&quot;
        title=&quot;config_email_template&quot;
        src=&quot;/static/ff33d100fcf3e6d6a19ff87f77834f09/7e0eb/config_email_template.jpg&quot;
        srcset=&quot;/static/ff33d100fcf3e6d6a19ff87f77834f09/08b3c/config_email_template.jpg 225w,
/static/ff33d100fcf3e6d6a19ff87f77834f09/12ba2/config_email_template.jpg 450w,
/static/ff33d100fcf3e6d6a19ff87f77834f09/7e0eb/config_email_template.jpg 873w&quot;
        sizes=&quot;(max-width: 873px) 100vw, 873px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Finalement, j’ai intégré ça à mon code comme ça:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; init &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;emailjs-com&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; emailjs &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;emailjs-com&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;user_votrePropreUserId&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; form &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;querySelector&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;form&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

form&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;submit&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token parameter&quot;&gt;evt&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    evt&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;preventDefault&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    emailjs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;send&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;service_qwertzu&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;template_qwertzu&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; form&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;response&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        	console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Success&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        	console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Erreur&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; error&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Et voilà! D’autres fonctionnalités existent comme par exemple les réponses automatiques, l’enregistrement des contacts, l’ajout de pièces jointes et autres. Je vous laisse les tester si ça vous intéresse.&lt;/p&gt;
&lt;h2&gt;Netlify form handler&lt;/h2&gt;
&lt;p&gt;Cet outil nécessite d’héberger son site sur Netlify. C’est peut-être éliminatoire pour certains, mais pour moi ça tombe bien puisque c’était justement mon but. L’article &lt;a href=&quot;https://www.netlify.com/blog/2017/09/19/form-handling-with-the-jamstack-and-netlify/&quot;&gt;Form Handling with the JAMstack and Netlify &lt;/a&gt; explique bien le concept et la mise en place, mais de nouveau, je vais vous montrer ma config.&lt;/p&gt;
&lt;p&gt;Déjà j’ai ajouté l’attribut &lt;code class=&quot;language-text&quot;&gt;netlify&lt;/code&gt; à ma balise &lt;code class=&quot;language-text&quot;&gt;&amp;lt;form&amp;gt;&lt;/code&gt;, ensuite, j’ai été obligé de changer le nom de mon champ “object” à “subject” pour qu’il soit bien reconnu par l’outil et que l’objet du mail reçu soit celui entré par l’utilisateur dans le formulaire. Ensuite du côté de l’outil j’ai pas grand-chose d’intéressant à vous montrer puisque la config se fait en deux clics, donc voici directement le code javascript pour intégrer tout ça:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; form &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;querySelector&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;form&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

form&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;submit&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token parameter&quot;&gt;evt&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    evt&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;preventDefault&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; formData &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;FormData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;form&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;fetch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        method&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;POST&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        headers&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Content-Type&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;application/x-www-form-urlencoded&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        body&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;URLSearchParams&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;formData&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        	console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Success&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        	console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Erreur&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; error&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Comparaison&lt;/h2&gt;
&lt;p&gt;Niveau code JavaScript c’est assez kiff kiff, à par peut-être qu’EmailJS nécessite d’ajouter un package et donc une dépendance.&lt;/p&gt;
&lt;p&gt;Au niveau de l’email reçu, voici les résultats, en premier c’est EmailJS, ensuite Netlify&lt;/p&gt;
&lt;div style=&quot;display: flex; flex-wrap: wrap; justify-content: space-around;&quot;&gt;
  &lt;div style=&quot;flex-basis: 25rem; margin-bottom : 1.5rem;&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 454px; &quot;&gt;
      &lt;a class=&quot;gatsby-resp-image-link&quot; href=&quot;/static/892534d90dea0dc468e4d844726aa355/5c150/EmailJSMail.jpg&quot; style=&quot;display: block&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 96%; position: relative; bottom: 0; left: 0; background-image: url(&amp;apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAATABQDASIAAhEBAxEB/8QAGAABAQADAAAAAAAAAAAAAAAAAAIBAwX/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAAB5sXrAKwQFf/EABYQAQEBAAAAAAAAAAAAAAAAABARAf/aAAgBAQABBQKusf/EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8BH//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8BH//EABYQAAMAAAAAAAAAAAAAAAAAAAAwMf/aAAgBAQAGPwIiP//EABsQAAMAAgMAAAAAAAAAAAAAAAABERAhYYGh/9oACAEBAAE/IXWHRwXhvDSEIf/aAAwDAQACAAMAAAAQQAjA/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPxAf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPxAf/8QAHBABAAMAAgMAAAAAAAAAAAAAAQARIUFRYZHw/9oACAEBAAE/EKGCCBTbM+sRXEeNicoM4tcWzdjLe33CBDiUlJ//2Q==&amp;apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;EmailJSMail&quot; title=&quot;EmailJSMail&quot; src=&quot;/static/892534d90dea0dc468e4d844726aa355/5c150/EmailJSMail.jpg&quot; srcset=&quot;/static/892534d90dea0dc468e4d844726aa355/08b3c/EmailJSMail.jpg 225w,
/static/892534d90dea0dc468e4d844726aa355/12ba2/EmailJSMail.jpg 450w,
/static/892534d90dea0dc468e4d844726aa355/5c150/EmailJSMail.jpg 454w&quot; sizes=&quot;(max-width: 454px) 100vw, 454px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot; loading=&quot;lazy&quot;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
  &lt;/div&gt;
  &lt;div style=&quot;flex-basis: 25rem;&quot;&gt;
      &lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 538px; &quot;&gt;
      &lt;a class=&quot;gatsby-resp-image-link&quot; href=&quot;/static/adc5d54a3462d51d6c9e89d0e1d4f4f3/8f75b/netlifyMail.jpg&quot; style=&quot;display: block&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 85.33333333333334%; position: relative; bottom: 0; left: 0; background-image: url(&amp;apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAARABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAIBBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAeZFQawVIAf/xAAWEAEBAQAAAAAAAAAAAAAAAAAQARH/2gAIAQEAAQUC1rX/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/AR//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/AR//xAAUEAEAAAAAAAAAAAAAAAAAAAAw/9oACAEBAAY/Ah//xAAaEAACAgMAAAAAAAAAAAAAAAAAARARMWGB/9oACAEBAAE/IWb0jhacp//aAAwDAQACAAMAAAAQ0Mc8/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPxAf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPxAf/8QAHhABAAEEAgMAAAAAAAAAAAAAAREAEDFxIUGxwdH/2gAIAQEAAT8QYjBxgZ91GZ832lHoapwBZL4tX//Z&amp;apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;netlifyMail&quot; title=&quot;netlifyMail&quot; src=&quot;/static/adc5d54a3462d51d6c9e89d0e1d4f4f3/8f75b/netlifyMail.jpg&quot; srcset=&quot;/static/adc5d54a3462d51d6c9e89d0e1d4f4f3/08b3c/netlifyMail.jpg 225w,
/static/adc5d54a3462d51d6c9e89d0e1d4f4f3/12ba2/netlifyMail.jpg 450w,
/static/adc5d54a3462d51d6c9e89d0e1d4f4f3/8f75b/netlifyMail.jpg 538w&quot; sizes=&quot;(max-width: 538px) 100vw, 538px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot; loading=&quot;lazy&quot;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Une particularité de Netlify est que l’email provient de “formresponses@netlify.com” et on ne peut pas le changer. C’est d’un côté un avantage car on n’a pas à configurer un serveur d’envoi, mais si on veut envoyer des mails à un client ça peut paraitre moins professionnel. En général, l’inconvénient de Netlify est d’être peu personnalisable. EmailJS nous offre plus de libérté mais nous oblige à créer un compte sur leur plateforme.&lt;/p&gt;
&lt;p&gt;Au niveau des limitations des versions gratuites, Netlify est limitée à 100 envois / mois / site. EmailJS est lui limité à 200 envois / mois / compte, à 50kb par envoi et à 2 templates / compte.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Cheat sheets et Checklists WCAG]]></title><description><![CDATA[Pour finir cette série d’articles, j’aimerais vous proposer quelques cheat sheets et checklists des recommandations du WCAG, puis un petit…]]></description><link>https://golb.ch/cheat-sheets/</link><guid isPermaLink="false">https://golb.ch/cheat-sheets/</guid><pubDate>Sun, 13 Dec 2020 22:12:03 GMT</pubDate><content:encoded>&lt;p&gt;Pour finir cette série d’articles, j’aimerais vous proposer quelques cheat sheets et checklists des recommandations du &lt;a href=&quot;https://www.w3.org/WAI/standards-guidelines/wcag/fr&quot;&gt;WCAG&lt;/a&gt;, puis un petit mot sur Axe, dont je n’ai même pas encore parlé.&lt;/p&gt;
&lt;h2&gt;Cheat sheets&lt;/h2&gt;
&lt;p&gt;J’ai trouvé deux cheat sheets plutôt pas mal. Mais attention, contrairement aux checklists, ces documents ne sont qu’un résumé de certains points importants. Donc c’est bien pour les bases, mais ça reste incomplet.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;La &lt;a href=&quot;https://moritzgiessmann.de/accessibility-cheatsheet/&quot;&gt;cheat sheet de Moritz Giessmann&lt;/a&gt; est le document le plus résumé que je vous propose. Je l’aime bien car il est assez visuel et on pourrait même en faire un poster. Cependant, c’est un GROS résumé des recommandations du WCAG. Donc je ne le conseillerais pas vraiment comme outil de travail. Mais vraiment, à afficher dans son bureau ça peut être cool.&lt;/li&gt;
&lt;li&gt;La &lt;a href=&quot;https://bitsofco.de/the-accessibility-cheatsheet/&quot;&gt;cheat sheet de Ire Aderinokun&lt;/a&gt; est excellente pour un débutant. C’est un document relativement complet, fournissant de très bons exemples concis pour chaque point abordé. C’est un résumé dense, mais ça reste un résumé. De plus ce document a été écrit en 2015, donc avant la mise à jour 2.1 du WCAG. Mais je recommande vraiment ce document pour débuter car les checklists complètes du WCAG sont relativement indigestes au premier abord (et même au second). Donc c’est un bon compromis.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Checklists&lt;/h2&gt;
&lt;p&gt;On entre dans les listes complètes des recommandations du WCAG. En vrai vous pourriez juste aller sur le &lt;a href=&quot;https://www.w3.org/TR/WCAG21/&quot;&gt;site officiel du WCAG&lt;/a&gt; mais je trouve la liste ultra indigeste. Mais ça reste le meilleur document de référence si on cherche un détail précis&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;La &lt;a href=&quot;https://webaim.org/standards/wcag/checklist&quot;&gt;checklist de WebAIM&lt;/a&gt; n’a rien de révolutionnaire mais je la trouve agréable à lire. C’est bien expliqué, suffisamment concis et raisonnablement long.&lt;/li&gt;
&lt;li&gt;La &lt;a href=&quot;https://romeo.elsevier.com/accessibility_checklist/&quot;&gt;checklist de Elsevier&lt;/a&gt; est également plutôt standard. L’utilisation d’accordéons rend la navigation agréable. Petite fonctionnalité appréciable, on peut filtrer la liste.&lt;/li&gt;
&lt;li&gt;La &lt;a href=&quot;https://codepen.io/weboverhauls/full/zYvopYE&quot;&gt;checklist de Web Overhauls&lt;/a&gt; est littéralement une checklist. Donc on peut cocher chaque étape. J’aurais bien aimé trouver une version partageable d’une checklist de ce type. Mais malheureusement je n’en ai pas trouvé. C’est l’occasion de créer quelque chose 👷&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Axe tools&lt;/h2&gt;
&lt;p&gt;Je ne pouvais pas conclure une série d’articles sur l’accessibilité sans parler de Axe. Les &lt;a href=&quot;https://www.deque.com/axe/&quot;&gt;Axe tools&lt;/a&gt; sont une série d’outils de testing basés sur la checklist du WCAG. C’est probablement l’outil de testing le plus populaire dans le monde de l’accessibilité. Je trouve que cet outil est loin d’être parfait. Mais je vous invite quand même à y jeter un œil et à le tester. Je vous recommande &lt;a href=&quot;https://chrome.google.com/webstore/detail/axe-web-accessibility-tes/lhdoppojpmngadmnindnejefpokejbdd&quot;&gt;l’extension pour Google Chrome&lt;/a&gt; qui est rapidement installée et qu’on peut facilement tester.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Lighthouse = pas bien, mais en fait si]]></title><description><![CDATA[J’avais rapidement mentionné l’article Building the most inaccessible site possible with a perfect Lighthouse score dans mon premier article…]]></description><link>https://golb.ch/lighthouse/</link><guid isPermaLink="false">https://golb.ch/lighthouse/</guid><pubDate>Fri, 11 Dec 2020 22:12:03 GMT</pubDate><content:encoded>&lt;p&gt;J’avais rapidement mentionné l’article &lt;a href=&quot;https://www.matuzo.at/blog/building-the-most-inaccessible-site-possible-with-a-perfect-lighthouse-score/&quot;&gt;Building the most inaccessible site possible with a perfect Lighthouse score&lt;/a&gt; dans mon premier article. J’aimerais en parler un peu plus, car je trouve cet article intéressant.&lt;/p&gt;
&lt;h2&gt;L’article&lt;/h2&gt;
&lt;p&gt;Pour résumer, l’article démontre qu’on peut faire un site complètement inutilisable et obtenir un score de 100 partout sur Lighthouse (ou autre outil de testing).&lt;/p&gt;
&lt;h2&gt;Ma critique&lt;/h2&gt;
&lt;p&gt;La démonstration que fait l’auteur est assez marrante à lire. Et en effet, on peut effectivement obtenir un score parfait avec un site complètement inutilisable. Cependant, je trouve que les moyens utilisés pour rendre le site inutilisable sont plutôt absurdes. &lt;/p&gt;
&lt;p&gt;Par exemple, le premier moyen utilisé est d’ajouter l’attribut &lt;a href=&quot;https://developer.mozilla.org/fr/docs/Web/HTML/Attributs_universels/hidden&quot;&gt;hidden&lt;/a&gt; à la balise &lt;code class=&quot;language-text&quot;&gt;body&lt;/code&gt;, puis de réafficher le body en CSS avec un &lt;code class=&quot;language-text&quot;&gt;display: block;&lt;/code&gt;. Du coup, le site ne s’affiche que si le CSS est bien chargé. Personnellement, je ne vois pas qui aurait l’idée de faire une telle spécialité dans son code. (alors en réalité si, il y aurait le cas de figure où on voudrait éviter le &lt;a href=&quot;https://fr.wikipedia.org/wiki/FOUC&quot;&gt;FOUC&lt;/a&gt;, mais il y a de meilleures manières de faire, et lorsqu’on le fait, on est normalement conscient de ce que ça implique). &lt;/p&gt;
&lt;p&gt;Du coup je vais prendre un deuxième et meilleur exemple. Dans l’article, l’auteur utilise le code suivant&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token atrule&quot;&gt;&lt;span class=&quot;token rule&quot;&gt;@media&lt;/span&gt; screen &lt;span class=&quot;token keyword&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token property&quot;&gt;-ms-high-contrast&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; active&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token selector&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; window &lt;span class=&quot;token important&quot;&gt;!important&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ce code fait en sorte que lorsqu’on active le mode “high contrast”, le texte soit de la même couleur que le fond. Alors ok, Lighthouse ne le détecte pas. Mais honnêtement, qui va faire ça sans faire exprès?&lt;/p&gt;
&lt;p&gt;La plupart des exemples de l’article sont aussi absurdes que celui-ci. Désactiver les entrées du clavier, désactiver les entrées de la souris, mettre 1% d’opacité aux textes… alors en effets, on peut “tromper” Lighthouse ainsi, mais il faut vraiment le vouloir. Malgré ça j’aime quand même bien cet article, mais je pense qu’il aurait pu être plus convainquant en présentant des exemples plus concrets. Car en finissant de lire cet article, je me suis dit que si l’auteur avait dû aller chercher si loin, c’est que Lighthouse était finalement vraiment pas si mal.&lt;/p&gt;
&lt;h2&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;L’article démontre au final que Lighthouse est un très bon outil. Mais en effet, on peut avoir fait certaines choses très spécifiques qui passeraient entre les mailles des tests. Donc utilisez plusieurs outils de testing, et n’oubliez pas qu’un des meilleurs tests reste &lt;a href=&quot;https://golb.ch/screen-readers/&quot;&gt;le test concret&lt;/a&gt;.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Traduisons un site avec node-static-i18n]]></title><description><![CDATA[Cette article fait suite à mon dernier article ”i18n et l10n”. Nous avions vu la démarche à avoir lorsqu’on aimerait rendre un site statique…]]></description><link>https://golb.ch/testonsi18n/</link><guid isPermaLink="false">https://golb.ch/testonsi18n/</guid><pubDate>Thu, 03 Dec 2020 22:12:03 GMT</pubDate><content:encoded>&lt;p&gt;Cette article fait suite à mon dernier article ”&lt;a href=&quot;https://golb.ch/i18netl10n/&quot;&gt;i18n et l10n&lt;/a&gt;”. Nous avions vu la démarche à avoir lorsqu’on aimerait rendre un site statique accessible en plusieurs langages. Et ce n’est pas un total hasard si j’ai choisi cette article, car j’avais comme projet de proposer une version française de mon &lt;a href=&quot;https://robinbecherraz.ch&quot;&gt;site personnel&lt;/a&gt; qui est actuellement uniquement en anglais. (Bien qu’à l’instant où vous lirez ces lignes, il sera déjà disponible dans les deux langues). Je ne vais cependant pas aller autant en détail que dans l’article. Mais je vais déjà mettre en place l’essentiel, c’est à dire la traduction des textes.&lt;/p&gt;
&lt;h2&gt;L’état actuel du site&lt;/h2&gt;
&lt;p&gt;Une première particularité est que le site est déjà en production, et n’a pas forcément été pensé pour être multilingue. &lt;/p&gt;
&lt;p&gt;J’utilise Webpack pour automatiser plusieurs chose.&lt;/p&gt;
&lt;p&gt;Premièrement, pour le JavaScript. Je fais passer mes fichiers .js à travers Babel et ils sont ensuite packagé dans un fichier bundle.js&lt;/p&gt;
&lt;p&gt;Deuxièmement, pour le CSS. Ça ne nous intéresse pas trop mais en gros ça convertit et bundle mes fichiers .scss.&lt;/p&gt;
&lt;p&gt;Troisièmement, Pour le HTML. Et c’est là où ça va principalement interférer avec la traduction. J’utilise &lt;a href=&quot;https://github.com/sagold/handlebars-webpack-plugin&quot;&gt;handlebars-webpack-plugin&lt;/a&gt; afin de pouvoir utiliser des templates HTML. En l’occurrence en utilisant la fonctionnalité de &lt;a href=&quot;https://handlebarsjs.com/guide/partials.html&quot;&gt;partials de Handlebars&lt;/a&gt;. Le plugin webpack me permet de compiler ces templates lors du build de Webpack afin d’avoir des fichiers statiques sur le serveur. Pas besoins de savoir précisément comment ça marche, la seule chose à retenir est que ces templates utilisent une &lt;a href=&quot;http://mustache.github.io/mustache.5.html&quot;&gt;syntaxe de type {{ mustache }}&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;Résultat attendu&lt;/h2&gt;
&lt;p&gt;Je voulais que mon site reste statique, je ne voulais pas utiliser PHP ou autre pour traduire mes pages. J’ai donc décidé d’organiser mes fichiers selon la structure suivante:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;dist
+-- en
|	+-- index.html
|	+-- projects
|		+-- firstproject.html
|		+-- ...
+-- fr
|	+-- index.html
|	+-- projets
|		+-- premierprojet.html
|		+-- ...
+-- index.html&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;J’ai décidé de traduire les urls. Par exemple &lt;code class=&quot;language-text&quot;&gt;robinbecherraz.ch/en/projects/firstproject&lt;/code&gt; en anglais et &lt;code class=&quot;language-text&quot;&gt;robinbecherraz.ch/fr/projets/premierprojet&lt;/code&gt; en français. J’ai fais ça pour apporter plus de sémantique et d’accessibilité aux urls. Un des inconvénients est que si on change juste le &lt;code class=&quot;language-text&quot;&gt;/en/&lt;/code&gt; en &lt;code class=&quot;language-text&quot;&gt;/fr/&lt;/code&gt; dans l’url, on tombera sur un 404. Mais bon il y a des boutons pour changer de langue qui sont plutôt visibles, le site étant assez sobre, donc je ne pense pas que ce soit très grave. De plus, si je veux vraiment palier à se problème, je pourrais mettre en place des redirections.&lt;/p&gt;
&lt;h2&gt;Mise en place de i18n&lt;/h2&gt;
&lt;p&gt;Le module npm &lt;a href=&quot;https://github.com/claudetech/node-static-i18n&quot;&gt;node-static-i18n&lt;/a&gt; s’est assez vite imposé puisqu’il correspond exactement à mes besoins. Je vous passe l’étape d’installation qui est assez simple pour passer directement à l’utilisation de i18n. &lt;/p&gt;
&lt;p&gt;Vous devrez premièrement créer un fichier json pour chaque langue. Par exemple &lt;code class=&quot;language-text&quot;&gt;locales/fr.json&lt;/code&gt; avec à l’intérieur:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;{
  &amp;quot;home&amp;quot;: {
    &amp;quot;title&amp;quot;: &amp;quot;Mon site web&amp;quot;
  }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Et &lt;code class=&quot;language-text&quot;&gt;locales/en.json&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;{
  &amp;quot;home&amp;quot;: {
    &amp;quot;title&amp;quot;: &amp;quot;My website&amp;quot;
  }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Pour chaque balise dont vous voudrez traduire le contenu, vous devrez utiliser l’attribut &lt;code class=&quot;language-text&quot;&gt;data-t&lt;/code&gt;, avec à l’intérieur la clé de la valeur souhaitée dans vos fichiers json. Par exemple, dans &lt;code class=&quot;language-text&quot;&gt;index.html&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;title&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;data-t&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;home.title&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;title&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ensuite, vous lancez la traduction de vos fichiers en lançant&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ static-i18n -l fr -i en -i fr dist&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ceci vous générera la structure suivante:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;dist
+-- en
|	+-- index.html
|	+-- projects
|		+-- firstproject.html
|		+-- ...
+-- index.html
+-- projets
|		+-- firstproject.html
|		+-- ...&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;le fichier &lt;code class=&quot;language-text&quot;&gt;dist/index.html&lt;/code&gt;contiendra&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;title&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Mon site web&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;title&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;et &lt;code class=&quot;language-text&quot;&gt;dist/en/index.html&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;title&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;My website&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;title&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Incroyable non?&lt;/p&gt;
&lt;h2&gt;Premiers problèmes&lt;/h2&gt;
&lt;h3&gt;Structure générée&lt;/h3&gt;
&lt;p&gt;Alors c’est cool mais c’est pas vraiment la structure que j’aimerais. J’ai cherché et je n’ai pas trouvé de moyen pour que static-i18n me génère la structure que je souhaite. Du coup j’ai écris un petit script bash pour déplacer mes fichiers une fois créés&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;#!/bin/bash

# Move /dist/projects into /dist/fr/projets and copy /index.html to /fr/index.html
mkdir -p ./dist/fr/projets
mv ./dist/projects/* ./dist/fr/projets/
rm -rf ./dist/projects
cp ./dist/index.html ./dist/fr/index.html&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ce n’est certainement pas la meilleure manière de faire mais ça fait le taff.&lt;/p&gt;
&lt;h3&gt;Nom des fichiers&lt;/h3&gt;
&lt;p&gt;Malheureusement, i18n n’est pas capable de traduire les noms des fichiers (à ma connaissance). Du coup, j’ai ajouté ces quelques lignes au début de mon script&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;# Translate files name
mv ./dist/projects/firstproject.html ./dist/projects/premierprojet.html&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Rediriger le client sur la bonne langue&lt;/h2&gt;
&lt;p&gt;Ma page &lt;code class=&quot;language-text&quot;&gt;dist/index.html&lt;/code&gt; est la page racine de mon site. Elle est en français. J’aimerais donc&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Rediriger un utilisateur qui a déjà visité mon site sur la langue qu’il utilisait&lt;/li&gt;
&lt;li&gt;Essayer de connaitre la langue préférée du client si celui-ci n’a jamais visité mon site&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Pour cette deuxième étape, j’ai décidé d’utiliser la propriété &lt;a href=&quot;https://developer.mozilla.org/fr/docs/Web/API/NavigatorLanguage/language&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;navigator.language&lt;/code&gt;&lt;/a&gt;. C’est selon moi la plus fiable des méthode pour déterminer le langage souhaité par un utilisateur. J’ai donc ajouté le script suivant à mon fichier &lt;code class=&quot;language-text&quot;&gt;dist/index.html&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; storedLang &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; localStorage&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getItem&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;lang&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;checkBrowserLang&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; lang &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; navigator&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;language
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token regex&quot;&gt;&lt;span class=&quot;token regex-delimiter&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token regex-source language-regex&quot;&gt;^en.*&lt;/span&gt;&lt;span class=&quot;token regex-delimiter&quot;&gt;/&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;lang&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        localStorage&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setItem&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;lang&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;en&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;location&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;href&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;en&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token regex&quot;&gt;&lt;span class=&quot;token regex-delimiter&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token regex-source language-regex&quot;&gt;^fr.*&lt;/span&gt;&lt;span class=&quot;token regex-delimiter&quot;&gt;/&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;lang&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        localStorage&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setItem&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;lang&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;fr&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;switch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;storedLang&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;en&apos;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;
        window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;location&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;href&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;en&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;fr&apos;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;checkBrowserLang&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Aller plus loin avec i18n&lt;/h2&gt;
&lt;p&gt;On a vu l’utilisation de base d’i18n. Mais j’ai évidemment dû faire certaines choses un peu plus complexes. Par exemple, traduire l’attribut &lt;code class=&quot;language-text&quot;&gt;content&lt;/code&gt; du meta tag suivant qui se trouve dans une partial Handlebars:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;meta&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;property&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;og:title&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;{{project.title}} - a project by Robin Bécherraz&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Si vous avez déjà utilisé un système de templating, vous devriez comprendre cette ligne.&lt;/p&gt;
&lt;p&gt;À noter que j’ai ajouté le texte “a project by Robin Bécherraz” dans mes fichiers &lt;code class=&quot;language-text&quot;&gt;locales&lt;/code&gt;/ sous la clé &lt;code class=&quot;language-text&quot;&gt;projects.addToMetaTitle&lt;/code&gt;&lt;/p&gt;
&lt;h3&gt;Fonctionnement de mes templates Handlebars&lt;/h3&gt;
&lt;p&gt;la variable &lt;code class=&quot;language-text&quot;&gt;project.title&lt;/code&gt; passée à ma partial provient d’un fichier json &lt;code class=&quot;language-text&quot;&gt;data/projects.json&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;{
    &amp;quot;firstproject&amp;quot;: {
        &amp;quot;title&amp;quot;: &amp;quot;My cool project&amp;quot;
    }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;J’appelle ensuite ma partial ainsi&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;{{&amp;gt; partials/mypartials data=data project=firstproject }}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;(le &lt;code class=&quot;language-text&quot;&gt;data=data&lt;/code&gt; est spécifique à handlebars-webpack-plugin, ça pointe en gros sur mon fichier &lt;code class=&quot;language-text&quot;&gt;data/projects.json&lt;/code&gt;)&lt;/p&gt;
&lt;p&gt;Du coup, j’ai du traduire les titre de mes projets en procédant ainsi:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;{
    &amp;quot;firstproject&amp;quot;: {
        &amp;quot;title&amp;quot;: &amp;quot;firstproject.title&amp;quot;
    }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Interpolation de valeur d’attribut avec i18n&lt;/h3&gt;
&lt;p&gt;Voici, selon la doc de static-i18n, comment traduire un attribut avec en plus de l’interpolation:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;link&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;rel&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;canonical&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;data-attr-t&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;data-attr-t-interpolate&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href-t&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;{{links.baseAbsolute}}filename.{{links.extension}}&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Vous voyez peut-être le problème, static-i18n et Handlebars utilisent la même syntaxe {{ mustache }} pour faire deux choses différentes. On a donc un conflit entre ces deux outils. &lt;/p&gt;
&lt;h3&gt;Solution&lt;/h3&gt;
&lt;p&gt;Cette article est déjà super long donc je vais vous montrer directement la solution que j’ai trouvée. Afin de rendre la ligne suivante traduisible&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;meta&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;property&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;og:title&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;{{project.title}} - a project by Robin Bécherraz&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Je l’ai modifiée ainsi&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;meta&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;property&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;og:title&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;data-attr-t&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;data-attr-t-interpolate&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;content-t&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;{{surroundWithCurlyBraces project.title}} - {{surroundWithCurlyBraces &lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;projects.addToMetaTitle&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;}}&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Vous voyez donc que pour palier ce conflit de syntaxe entre static-i18n et Handlebars, j’ai créé un helpers “surroundWithCurlyBraces”. La ligne ci-dessus va donc être compilée par handlebars-webpack-plugin ainsi&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;meta&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;property&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;og:title&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;data-attr-t&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;data-attr-t-interpolate&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;content-t&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;{{firstproject.title}} - {{projects.addToMetaTitle}}&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Puis static-i18n va la traduire ainsi&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;meta&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;property&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;og:title&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;My cool project - a project by Robin Bécherraz&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;ouf… pour ceux qui n’ont pas encore fuit, j’espère que vous aurez trouvé cet article intéressant malgré ce contexte très spécifique avec Handlebars. Cependant, il existe aujourd’hui beaucoup de systèmes de templating qui utilisent cette notation {{ mustache }}, donc vous serez peut-être confrontés aux mêmes problèmes que moi même si vous n’utilisez pas Handlebars.&lt;/p&gt;
&lt;p&gt;Mon environnement de développement a été pas mal complexifié par cette mise en place d’i18n. Mais les outils marchent plutôt bien. Les points pouvant être améliorés sont ces petits scripts que j’ai ajouté afin de traduire et d’organiser les fichiers traduits. Ils ralentissent pas mal le processus de traduction.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[i18n et l10n]]></title><description><![CDATA[Dans l’accessibilité on aime bien les numéronymes. Aujourd’hui on va parler d’Internationalization et de Localization. Et je comprends en…]]></description><link>https://golb.ch/i18netl10n/</link><guid isPermaLink="false">https://golb.ch/i18netl10n/</guid><pubDate>Tue, 01 Dec 2020 22:12:03 GMT</pubDate><content:encoded>&lt;p&gt;Dans l’accessibilité on aime bien les &lt;a href=&quot;https://fr.wikipedia.org/wiki/Num%C3%A9ronyme&quot;&gt;numéronymes&lt;/a&gt;. Aujourd’hui on va parler d’Internationalization et de Localization. Et je comprends en écrivant ces lignes pourquoi on abrège i18n et l10n, c’est super compliqué à orthographier. Je suis tombé récemment sur l’article ”&lt;a href=&quot;https://www.smashingmagazine.com/2020/11/internationalization-localization-static-sites/&quot;&gt;Internationalization And Localization For Static Sites&lt;/a&gt;” qui explique en gros la réflexion et la démarche à avoir lorsqu’on aimerait développer un site multilingue. Ce sujet est plutôt intéressant car aucune solution donnée n’existe. L’article nous rappelle que l’internationalisation ne consiste pas juste à traduire du texte. Et à ce niveau-là, l’article peut presque faire peur car on se rend compte que rendre un site international demande un énorme investissement. Je vais revenir sur quelques points que je trouve intéressants. Ces points paraissent, pour la plupart, être des détails. Mais ils peuvent vite complexifier grandement le développement d’un site et méritent donc qu’on s’y intéresse.&lt;/p&gt;
&lt;h2&gt;Les urls&lt;/h2&gt;
&lt;p&gt;Rien que les urls posent déjà pas mal de problèmes. Hormis le fait de choisir entre &lt;code class=&quot;language-text&quot;&gt;site.com/fr&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;site.com?lang=fr&lt;/code&gt; ou autre solution exotique, faut-il traduire nos urls? Par exemple, si on a une page en français dont l’url est &lt;code class=&quot;language-text&quot;&gt;site.com/fr/accueil&lt;/code&gt;, la version anglaise doit-elle être &lt;code class=&quot;language-text&quot;&gt;site.com/en/accueil&lt;/code&gt; ou &lt;code class=&quot;language-text&quot;&gt;site.com/en/home&lt;/code&gt;? Et bien il n’y a pas vraiment de réponse correcte. La première solution offre par exemple un moyen facile aux utilisateurs pour changer de langue, mais la deuxième permet à l’utilisateur de mieux se repérer sur le site. Je vous laisse vous faire votre propre avis sur la question.&lt;/p&gt;
&lt;h2&gt;Les dates&lt;/h2&gt;
&lt;p&gt;C’est peu-être un des problèmes les plus évidents. Et il existe énormément de solutions techniques pour gérer ce problème. Malgré ça j’ai l’impression que ça reste un cauchemar pour tous les développeurs. Du coup je propose qu’on adopte tous le format yyyy/mm/dd qui est objectivement supérieur à tout autre format. Quoi que j’hésite avec yyyy-mm-dd… 🤔&lt;/p&gt;
&lt;h2&gt;Le sens de lecture&lt;/h2&gt;
&lt;p&gt;C’est si évident et pourtant je n’y pense quasiment jamais. Mais si vous allez sur la version arabe de Facebook (&lt;a href=&quot;https://ar-ar.facebook.com/&quot;&gt;https://ar-ar.facebook.com/&lt;/a&gt;), et bien toute l’interface est mirorée (apparemment ce mot n’existe pas…). L’interface est horizontalement retournée, puisqu’on lit de droite à gauche en arabe. Alors je me suis dit que techniquement ça devait être l’enfer, surtout au niveau du css. Mais j’ai appris existence de &lt;a href=&quot;https://www.w3.org/International/questions/qa-html-dir&quot;&gt;l’attribut dir&lt;/a&gt;, qui permet d’indiquer au navigateur le sens de lecture. Alors j’ai testé sur un site que j’ai développé et WOW! J’ai été très étonné du peu d’ajustements que j’ai eu à faire pour proposer une version miroir de mon site.&lt;/p&gt;
&lt;p&gt;Il y a pléthores d’autres points intéressants à aborder. Proposer un site i18n n’est pas une mince affaire. Donc si vous êtes amené à en développer un, je ne peux que vous conseiller de relire l’article ”&lt;a href=&quot;https://www.smashingmagazine.com/2020/11/internationalization-localization-static-sites/&quot;&gt;Internationalization And Localization For Static Sites&lt;/a&gt;” et de bien réfléchir à votre stratégie avant de commencer à coder. &lt;/p&gt;</content:encoded></item><item><title><![CDATA[Pourquoi tester vos sites avec un lecteur d'écran?]]></title><description><![CDATA[Je pense que la plupart des développeurs web sont aujourd’hui sensibilisés à l’accessibilité. C’est un sujet qui revient souvent dans les…]]></description><link>https://golb.ch/screen-readers/</link><guid isPermaLink="false">https://golb.ch/screen-readers/</guid><pubDate>Wed, 25 Nov 2020 22:12:03 GMT</pubDate><content:encoded>&lt;p&gt;Je pense que la plupart des développeurs web sont aujourd’hui sensibilisés à l’accessibilité. C’est un sujet qui revient souvent dans les forums, on fait en général passer nos sites dans des analyseurs d’accessibilité, et c’est même une des 5 catégories de Google Lighthouse. La possibilité de naviguer dans un site à l’aide d’un lecteur d’écran est un des plus grands pans de l’accessibilité. Et pourtant, je me demande combien de développeurs ont déjà essayé de visiter un de leur site en utilisant un lecteur d’écran. L’article ”&lt;a href=&quot;https://www.matuzo.at/blog/building-the-most-inaccessible-site-possible-with-a-perfect-lighthouse-score/&quot;&gt;Building the most inaccessible site possible with a perfect Lighthouse score&lt;/a&gt;” démontre que les outils d’analyse, en l’occurrence Lighthouse, ne sont absolument pas infaillibles. On sait tous (développeurs frontend) qu’il faut mettre des textes alternatifs aux images ou des labels à nos liens. Mais pour ma part en tout cas, j’avoue que je le faisais plus pour avoir un bon score SEO que par réél soucis d’accessibilité. Mais récemment, je suis tombé sur l’article ”&lt;a href=&quot;https://www.marcozehe.de/how-to-use-nvda-and-firefox-to-test-your-web-pages-for-accessibility/&quot;&gt;How to use NVDA and Firefox to test your web pages for accessibility&lt;/a&gt;” de Marco Zehe, un ingénieur aveugle travaillant chez Mozilla. Cet article m’a donné envie de réellement me rendre compte de l’intérêt de toutes ces choses qu’on fait pour avoir un score de 100 sur Lighthouse.&lt;/p&gt;
&lt;p&gt;J’ai donc installé le lecteur d’écran &lt;a href=&quot;https://www.nvaccess.org/&quot;&gt;NVDA&lt;/a&gt;. Et autant vous dire que quand on n’a pas l’habitude on finit vite par désactiver le son, car tout ce que vous faites, même en dehors du navigateur, est commenté par un robot. Au passage, je vous conseille de choisir la voix de Guillaume dans les options. Sur du contenu anglophone c’est très drôle. J’ai ensuite visité un site que j’ai développé (on va l’appeler site.ch). Site.ch a un score Lighthouse de 97 en accessibilité donc en toute logique la navigation devrait être quasiment parfaite… spoiler… non 🙂&lt;/p&gt;
&lt;p&gt;Il m’a fallu environ 3 secondes pour tomber sur une erreur basique. Mes liens Facebook et Instagram, représentés par des icônes, n’avaient pas de label. Ils étaient donc lus “link site.ch” au lieu de “link Facebook”. Une erreur qui n’a pas été détectée par Lighthouse.&lt;/p&gt;
&lt;p&gt;Ensuite je suis allé voir le formulaire de contact. Et honnêtement c’est un peu compliqué de juger si la navigation est correcte par rapport à un lecteur d’écran. Simplement car je ne sais pas comment une page est sensée être lue, quelle est la bonne pratique. Par exemple, mes champs de formulaire sont composés d’un label et d’un champ en dessous du label. &lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 438px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/e15e7b0a006e4e089f80d7d45de7f86a/853c8/code.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 9.333333333333334%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAACABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAMF/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAcsEwn//xAAWEAEBAQAAAAAAAAAAAAAAAAAAATH/2gAIAQEAAQUCXH//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAQ/9oACAEBAAY/An//xAAUEAEAAAAAAAAAAAAAAAAAAAAQ/9oACAEBAAE/IU//2gAMAwEAAgADAAAAEIv/AP/EABURAQEAAAAAAAAAAAAAAAAAABBB/9oACAEDAQE/EIf/xAAVEQEBAAAAAAAAAAAAAAAAAAAQQf/aAAgBAgEBPxCn/8QAGRAAAgMBAAAAAAAAAAAAAAAAAAERMUFR/9oACAEBAAE/EFhY9myX1n//2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;code&quot;
        title=&quot;code&quot;
        src=&quot;/static/e15e7b0a006e4e089f80d7d45de7f86a/853c8/code.jpg&quot;
        srcset=&quot;/static/e15e7b0a006e4e089f80d7d45de7f86a/08b3c/code.jpg 225w,
/static/e15e7b0a006e4e089f80d7d45de7f86a/853c8/code.jpg 438w&quot;
        sizes=&quot;(max-width: 438px) 100vw, 438px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 401px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/3ae3ffbbd579336a77651bd04594d699/f4e9b/champ.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 16%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAADABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAEF/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAAB3aEB/8QAFRABAQAAAAAAAAAAAAAAAAAAEBH/2gAIAQEAAQUCj//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABQQAQAAAAAAAAAAAAAAAAAAABD/2gAIAQEABj8Cf//EABUQAQEAAAAAAAAAAAAAAAAAABAR/9oACAEBAAE/IYf/2gAMAwEAAgADAAAAEAPP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGBABAAMBAAAAAAAAAAAAAAAAAQARUSH/2gAIAQEAAT8QODUt2K6z/9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;champ&quot;
        title=&quot;champ&quot;
        src=&quot;/static/3ae3ffbbd579336a77651bd04594d699/f4e9b/champ.jpg&quot;
        srcset=&quot;/static/3ae3ffbbd579336a77651bd04594d699/08b3c/champ.jpg 225w,
/static/3ae3ffbbd579336a77651bd04594d699/f4e9b/champ.jpg 401w&quot;
        sizes=&quot;(max-width: 401px) 100vw, 401px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Lorsque je survole le champ, le lecteur lit “edit required invalid entry has autocomplete”. Donc on ne comprend absolument pas à quoi sert ce champ. Par contre si j’entre dans le champ, le lecteur lit “nom complet astérisque edit required invalid entry has autocomplete”. Difficile de savoir si ce sont les informations attendues par un utilisateur de lecteur d’écran.&lt;/p&gt;
&lt;p&gt;Je pourrais encore vous parler de beaucoup d’éléments dont la lecture me fait me questionner. Mais on se rend déjà compte qu’il y a un fossé entre la théorie et la pratique. Je ne dis pas qu’il faut tester tous vos sites avec un lecteur d’écran. Mais faire l’expérience au moins une fois permet de mieux évaluer l’accessibilité d’un code et d’être plus critique. Cette expérience a soulevé beaucoup de questions, et j’espère que je pourrais y apporter des réponses dans de futurs articles.&lt;/p&gt;</content:encoded></item></channel></rss>